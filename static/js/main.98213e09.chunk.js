(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__23Uwg",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3khu_"}},12:function(e,t,a){e.exports={Button:"Button_Button__1khPh",LoadMoreBtn:"Button_LoadMoreBtn__2LeAV"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2_Vyd",Modal:"Modal_Modal__2721V",ModalImage:"Modal_ModalImage__6xKpT"}},41:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(15),s=a.n(o),c=a(3),i=a(4),l=a(6),m=a(5),u=a(11),h=a.n(u),d=a(0),g=function(e){var t=e.src,a=e.alt,n=e.id,r=e.onClick;return Object(d.jsx)("li",{className:h.a.ImageGalleryItem,onClick:r,children:Object(d.jsx)("img",{src:t,alt:a,id:n,className:h.a.ImageGalleryItemImage})})},p=function(e,t){return fetch("https://pixabay.com/api/?q="+e+"&page="+t+"&key=22611406-1fc8dc647f338efc8b1d9d866&image_type=photo&orientation=horizontal&per_page=12").then((function(e){return e.json()})).then((function(e){return e.hits}))},j=a(8),b=a.n(j),f=(a(14),a(9)),v=a.n(f),O=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0});var t=this.props,a=t.searchWord,n=t.setImages;p(a,1).then((function(t){n(t),e.setState({isLoading:!1})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=e.searchWord,r=this.props.searchWord,o=this.props.setImages;n!==r&&(this.setState({isLoading:!0}),p(r,1).then((function(e){o(e),a.setState({isLoading:!1})})))}},{key:"render",value:function(){var e=this.props,t=e.images,a=e.onClick,n=this.state.isLoading;return Object(d.jsx)("div",{className:v.a.ImageGalleryContainer,children:n?Object(d.jsx)(b.a,{className:v.a.Loader,type:"Circles",color:"#003cff",height:80,width:80}):Object(d.jsx)("ul",{className:v.a.ImageGallery,children:t.map((function(e){return Object(d.jsx)(g,{src:e.webformatURL,alt:e.tags,id:e.id,onClick:a},e.id)}))})})}}]),a}(r.a.Component),I=a(7),y=a.n(I),_=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={inputValue:""},e.onSubmitForm=function(t){var a=e.props.onSubmit,n=e.state.inputValue;t.preventDefault(),a(n)},e.onHandleChangeInput=function(t){e.setState({inputValue:t.target.value})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.inputValue;return Object(d.jsx)("header",{className:y.a.Searchbar,onSubmit:this.onSubmitForm,children:Object(d.jsxs)("form",{className:y.a.SearchForm,children:[Object(d.jsx)("button",{type:"submit",className:y.a.SearchFormButton,children:Object(d.jsx)("span",{className:y.a.SearchFormButtonLabel,children:"Search"})}),Object(d.jsx)("input",{className:y.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.onHandleChangeInput,value:e})]})})}}]),a}(r.a.Component),S=a(12),x=a.n(S),C=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={page:1,isLoading:!1},e.OnHadleClickLoadMoreButton=function(){var t=e.state.page;e.setState({page:t+1})},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=t.page,r=this.state.page,o=this.props,s=o.searchWord,c=o.LoadMoreImages;n!==r&&(this.setState({isLoading:!0}),p(s,r).then((function(e){c(e),a.setState({isLoading:!1})})).then(window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})))}},{key:"render",value:function(){var e=this.state.isLoading;return Object(d.jsx)("div",{className:x.a.LoadMoreBtn,children:e?Object(d.jsx)(b.a,{type:"Circles",color:"#003cff",height:80,width:80}):Object(d.jsx)("button",{className:x.a.Button,type:"button",onClick:this.OnHadleClickLoadMoreButton,children:"Load More"})})}}]),a}(r.a.Component),L=a(13),k=a.n(L),M=function(e){var t=e.image,a=e.onClick;return Object(d.jsx)("div",{className:k.a.Overlay,onClick:a,id:"overley",children:Object(d.jsx)("div",{className:k.a.Modal,children:Object(d.jsx)("img",{src:t.largeImageURL,alt:t.tags})})})},B=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={images:[],isModalOpen:!1,searchWord:"",modalImage:{}},e.onHadleSubmitForm=function(t){""!==t.trim()&&e.setState({searchWord:t,images:[]})},e.setImages=function(t){e.setState({images:t})},e.LoadMoreImages=function(t){var a=e.state.images;e.setState({images:a.concat(t)})},e.onHandleCloseModal=function(t){"overley"===t.target.id&&e.setState({isModalOpen:!1})},e.onHandleClickImage=function(t){var a=e.state.images.find((function(e){return t.target.id===String(e.id)}));e.setState({isModalOpen:!0,modalImage:a}),document.addEventListener("keydown",(function(t){"Escape"===t.code&&e.setState({isModalOpen:!1})}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.images,a=e.isModalOpen,n=e.modalImage,r=e.searchWord;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(_,{onSubmit:this.onHadleSubmitForm}),""!==r.trim()&&Object(d.jsx)(O,{images:t,onClick:this.onHandleClickImage,setImages:this.setImages,searchWord:r}),t.length>0&&Object(d.jsx)(C,{searchWord:r,LoadMoreImages:this.LoadMoreImages}),a&&Object(d.jsx)(M,{image:n,onClick:this.onHandleCloseModal})]})}}]),a}(r.a.Component);s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(B,{})}),document.getElementById("root"))},7:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__270MC",SearchForm:"SearchBar_SearchForm__3g19A",SearchFormButton:"SearchBar_SearchFormButton__3y3vQ",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__3_v_z",SearchFormInput:"SearchBar_SearchFormInput__39xWO"}},9:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1-vdN",ImageGalleryContainer:"ImageGallery_ImageGalleryContainer__2zLgs"}}},[[41,1,2]]]);
//# sourceMappingURL=main.98213e09.chunk.js.map